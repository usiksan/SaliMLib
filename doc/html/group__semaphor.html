<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SaliMLib: SaliMLib Semaphor</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SaliMLib
   &#160;<span id="projectnumber">0.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">SaliMLib Semaphor<div class="ingroups"><a class="el" href="group___c_plus_plus_part.html">SaliMLib core library</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sm_semaphor.html">SmSemaphor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="class_sm_semaphor.html" title="The SmSemaphor class Helper class for guard some resource against multiple sharing. ">SmSemaphor</a> class Helper class for guard some resource against multiple sharing.  <a href="class_sm_semaphor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sm_semaphor_locker.html">SmSemaphorLocker</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="class_sm_semaphor_locker.html" title="The SmSemaphorLocker class Helper class for automatic lock and unlock resource by using SmSemaphor...">SmSemaphorLocker</a> class Helper class for automatic lock and unlock resource by using <a class="el" href="class_sm_semaphor.html" title="The SmSemaphor class Helper class for guard some resource against multiple sharing. ">SmSemaphor</a>.  <a href="class_sm_semaphor_locker.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Some resources have multiple but limited access. In this case, semaphores are usually used, which work similarly to mutex, but still support the counter of available resources. As soon as the available resource count decreases to zero, access to the resource is blocked.</p>
<p>The SaliMLib system provides two classes for working with semaphores: <a class="el" href="class_sm_semaphor.html" title="The SmSemaphor class Helper class for guard some resource against multiple sharing. ">SmSemaphor</a> and <a class="el" href="class_sm_semaphor_locker.html" title="The SmSemaphorLocker class Helper class for automatic lock and unlock resource by using SmSemaphor...">SmSemaphorLocker</a>. Their functionality is similar to the corresponding <a class="el" href="class_sm_mutex.html" title="The SmMutex class Helper class for guard some resource against sharing. ">SmMutex</a> classes.</p>
<p>Although the system has a semaphore implementation, its use in programs is extremely insignificant, due to the possibility of direct resource control. For example, a semaphore may reflect the number of available items in the queue. In this case, adding elements will look like this:</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> QueueChar100 = <a class="code" href="class_sm_fixed_queue.html">SmFixedQueue&lt;char,100&gt;</a>;</div><div class="line"></div><div class="line">QueueChar100 queue;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> f()</div><div class="line">  {</div><div class="line">  <span class="comment">//Let&#39;s say we want to add an item to the queue.</span></div><div class="line">  <span class="comment">//First we check whether there is free space in the queue</span></div><div class="line">  <span class="keywordflow">if</span>( queue.emptyCount() == 0 )</div><div class="line">    <span class="comment">//There are no free places, we are waiting for them to appear</span></div><div class="line">    smWait&lt;QueueChar100&gt;( &amp;queue, [] ( QueueChar100 *q ) -&gt; <span class="keywordtype">bool</span> { <span class="keywordflow">return</span> q-&gt;emptyCount() != 0; } );</div><div class="line">  <span class="comment">//The item to be added</span></div><div class="line">  queue.<a class="code" href="class_sm_fixed_queue.html#abaa6c2a68b1d45a9a18f8f5da3aa7c20">enque</a>( <span class="charliteral">&#39;A&#39;</span> );</div><div class="line">  }</div></div><!-- fragment --><p>This example shows a queue from SaliMLib, and the specified algorithm will work fine for any other implementations, including standard libraries. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="class_sm_semaphor.html" title="The SmSemaphor class Helper class for guard some resource against multiple sharing. ">SmSemaphor</a>, <a class="el" href="class_sm_mutex.html" title="The SmMutex class Helper class for guard some resource against sharing. ">SmMutex</a>, <a class="el" href="class_sm_fixed_queue.html" title="The SmFixedQueue Templace class for building queue with fixed size. ">SmFixedQueue</a> </dd></dl>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
