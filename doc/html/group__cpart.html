<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SaliMLib: Interface with C programm</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SaliMLib
   &#160;<span id="projectnumber">0.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Interface with C programm</div>  </div>
</div><!--header-->
<div class="contents">

<p>This elements used to integrate SaliMLib into your C-based project.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga905977dc69d620a91f885e701aab2acf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cpart.html#ga905977dc69d620a91f885e701aab2acf">smInit</a> (unsigned stackCellSize)</td></tr>
<tr class="memdesc:ga905977dc69d620a91f885e701aab2acf"><td class="mdescLeft">&#160;</td><td class="mdescRight">smInit Initialise sheduler  <a href="#ga905977dc69d620a91f885e701aab2acf">More...</a><br /></td></tr>
<tr class="separator:ga905977dc69d620a91f885e701aab2acf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga4a9031c426fd5947ec4e562017059e44"><td class="memItemLeft" align="right" valign="top">volatile int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cpart.html#ga4a9031c426fd5947ec4e562017059e44">smTickCount</a></td></tr>
<tr class="memdesc:ga4a9031c426fd5947ec4e562017059e44"><td class="mdescLeft">&#160;</td><td class="mdescRight">smTickCount System tick counter  <a href="#ga4a9031c426fd5947ec4e562017059e44">More...</a><br /></td></tr>
<tr class="separator:ga4a9031c426fd5947ec4e562017059e44"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This elements used to integrate SaliMLib into your C-based project. </p>
<p>Using Using the library involves including its source code in the target project. Just copy two files of the platform-independent part: <a class="el" href="_sali_m_core_8h_source.html">SaliMCore.h</a> and SaliMCore.cpp to your project. For the platform-dependent part, select the file from the port directory that corresponds to your hardware and the compiler used.</p>
<p>Add the following line to the system tick timer handler: </p><div class="fragment"><div class="line"><a class="code" href="group__cpart.html#ga4a9031c426fd5947ec4e562017059e44">smTickCount</a>++; <span class="comment">// Increment of the system tick counter</span></div></div><!-- fragment --><p>Cortex processors have a special hardware timer for implementing such timers. However, you can use any available hardware timer for this purpose, or not use it at all. In this case, several functions that use time will be unavailable.</p>
<p>In the main function, you must also add system initialization </p><div class="fragment"><div class="line"><a class="code" href="group__cpart.html#ga905977dc69d620a91f885e701aab2acf">smInit</a>(100);</div></div><!-- fragment --><p> where 100 is the stack size (in 32-bit words) for the default task.</p>
<p>For example, timer handler for cortex microcontrollers of STMicroelectronics is: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> SysTick_Handler(<span class="keywordtype">void</span>)</div><div class="line">  {</div><div class="line">  <a class="code" href="group__cpart.html#ga4a9031c426fd5947ec4e562017059e44">smTickCount</a>++; <span class="comment">// Increment of the system tick counter</span></div><div class="line">  HAL_IncTick();</div><div class="line">  }</div></div><!-- fragment --><p>For example main function </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> main(<span class="keywordtype">void</span>)</div><div class="line">  {</div><div class="line">  <span class="comment">//All initialisation</span></div><div class="line">  .</div><div class="line">  .</div><div class="line">  .</div><div class="line"></div><div class="line">  <span class="comment">//Initialisation of SaliMLib</span></div><div class="line">  <a class="code" href="group__cpart.html#ga905977dc69d620a91f885e701aab2acf">smInit</a>(100);</div><div class="line"></div><div class="line">  <span class="comment">//Main loop</span></div><div class="line">  <span class="keywordflow">while</span>(1) {</div><div class="line">    ...</div><div class="line">    }</div><div class="line">  }</div></div><!-- fragment --> <h2 class="groupheader">Function Documentation</h2>
<a id="ga905977dc69d620a91f885e701aab2acf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga905977dc69d620a91f885e701aab2acf">&#9670;&nbsp;</a></span>smInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smInit </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>stackCellSize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>smInit Initialise sheduler </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stackCellSize</td><td>Stack size for root task </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga4a9031c426fd5947ec4e562017059e44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4a9031c426fd5947ec4e562017059e44">&#9670;&nbsp;</a></span>smTickCount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile int smTickCount</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>smTickCount System tick counter </p>
<p>smTickCount used for implementing timers and other functions for working with time intervals </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
